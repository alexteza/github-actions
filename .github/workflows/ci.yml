name: CI

on:
    pull_request:
        branches: ['*']
    pull_request_review:
        types: [submitted]

env:
    isPullRequest: ${{ github.event_name == 'pull_request' }}
    isAprovedReview: ${{ github.event_name == 'pull_request_review' && github.event.review.state == 'APPROVED' }}

jobs:
    validate:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
              if: ${{ env.isPullRequest || env.isAprovedReview }}

            - name: test
              if: ${{ env.isPullRequest }}
              run: echo "É um Pull Request"

            - name: test
              if: ${{ env.isAprovedReview }}
              run: echo "A Revisão foi aprovada "
